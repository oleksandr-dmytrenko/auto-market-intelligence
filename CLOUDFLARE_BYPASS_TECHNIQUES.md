# –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–±—Ö–æ–¥–∞ Cloudflare

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –†–æ—Ç–∞—Ü–∏—è User-Agent
- ‚úÖ 5 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö User-Agents (Chrome, Firefox, Safari, —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏)
- ‚úÖ –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–µ
- ‚úÖ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—ã–π User-Agent

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
USER_AGENTS = [
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) ... Chrome/120.0.0.0',
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) ... Chrome/119.0.0.0',
    'Mozilla/5.0 (Macintosh; Intel Mac OS X ...) Chrome/120.0.0.0',
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Firefox/121.0',
    'Mozilla/5.0 (Macintosh; Intel Mac OS X ...) Safari/605.1.15',
]
user_agent = random.choice(USER_AGENTS)
```

### 2. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å Cookies –∏ –°–µ—Å—Å–∏—è–º–∏
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cookies –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ referrer headers
- ‚úÖ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ (–≥–ª–∞–≤–Ω–∞—è ‚Üí –ø–æ–∏—Å–∫ ‚Üí –¥–µ—Ç–∞–ª–∏)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
def _initialize_session(self):
    # –ó–∞—Ö–æ–¥–∏–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ Google (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π referrer)
    referrers = ['https://www.google.com/', 'https://www.google.com/search?q=bidfax']
    self.scraper.headers['Referer'] = random.choice(referrers)
    response = self.scraper.get('https://bidfax.info/', timeout=20)
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º cookies –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```

### 3. –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä Sec-Fetch-* –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- ‚úÖ Sec-Ch-Ua –∑–∞–≥–æ–ª–æ–≤–∫–∏ (Chrome User-Agent Client Hints)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ Accept –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ Accept-Language –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- ‚úÖ DNT (Do Not Track) –∑–∞–≥–æ–ª–æ–≤–æ–∫

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
'Sec-Fetch-Dest': 'document',
'Sec-Fetch-Mode': 'navigate',
'Sec-Fetch-Site': 'none',
'Sec-Fetch-User': '?1',
'Sec-Ch-Ua': '"Not_A Brand";v="8", "Chromium";v="120"',
'Sec-Ch-Ua-Mobile': '?0',
'Sec-Ch-Ua-Platform': '"Win32"',
'DNT': '1',
```

### 4. –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (Human-like behavior)
- ‚úÖ –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (3-7 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –°–ª—É—á–∞–π–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –∑–∞–¥–µ—Ä–∂–∫–∞—Ö
- ‚úÖ –ò–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
delay = random.uniform(3, 7)

# –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
delay = random.uniform(10, 20) * (2 ** attempt)
```

### 5. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ (–¥–æ 5)
- ‚úÖ –†–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ—à–∏–±–æ–∫ (403, 429, timeout)
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ timeout –∑–Ω–∞—á–µ–Ω–∏—è (45 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
retries = 5  # –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 3 –¥–æ 5
timeout = 45  # –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 30 –¥–æ 45

if response.status_code == 403:
    # –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è Cloudflare –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
elif response.status_code == 429:
    # –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è rate limit
```

### 6. –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è Cloudflare Challenge
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–º–∏–Ω–∏–º—É–º 2KB)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
cloudflare_indicators = [
    'checking your browser',
    'just a moment',
    'ddos protection',
    'cf-browser-verification',
    '403 forbidden',
    'access denied',
    'ray id',
    '__cf_bm',
    'cf_clearance',
    'challenge-platform'
]
min_size = 2000  # –†–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 2KB
```

### 7. –£–ª—É—á—à–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Selenium
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ Chrome –¥–ª—è –æ–±—Ö–æ–¥–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ stealth —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ –≠–º—É–ª—è—Ü–∏—è navigator —Å–≤–æ–π—Å—Ç–≤
- ‚úÖ –≠–º—É–ª—è—Ü–∏—è chrome –æ–±—ä–µ–∫—Ç–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏
options.add_argument('--disable-blink-features=AutomationControlled')
options.add_argument('--disable-infobars')
# ... –∏ –¥—Ä—É–≥–∏–µ

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ stealth —Å–∫—Ä–∏–ø—Ç—ã
Object.defineProperty(navigator, 'webdriver', { get: () => undefined });
Object.defineProperty(navigator, 'hardwareConcurrency', { get: () => 8 });
window.chrome = { runtime: {}, loadTimes: function() {} };
```

### 8. –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è cloudscraper
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –æ–±—Ö–æ–¥–∞ challenge (15 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ Fallback –Ω–∞ –±–∞–∑–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
self.scraper = cloudscraper.create_scraper(
    browser={
        'browser': 'chrome',
        'platform': 'windows',
        'desktop': True
    },
    delay=15  # –£–≤–µ–ª–∏—á–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞
)
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ –∏ –ü–æ—Å–ª–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü–æ—Å–ª–µ |
|----------|-----|-------|
| User-Agent | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | –†–æ—Ç–∞—Ü–∏—è –∏–∑ 5 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ |
| –ó–∞–¥–µ—Ä–∂–∫–∏ | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (2 —Å–µ–∫) | –°–ª—É—á–∞–π–Ω—ã–µ (3-7 —Å–µ–∫) |
| –ü–æ–ø—ã—Ç–∫–∏ | 3 | 5 |
| Timeout | 30 —Å–µ–∫ | 45 —Å–µ–∫ |
| Cookies | –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ | –ü–æ–ª–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏ |
| –ó–∞–≥–æ–ª–æ–≤–∫–∏ | –ë–∞–∑–æ–≤—ã–µ | –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | –ü—Ä–æ—Å—Ç–∞—è | –î–µ—Ç–∞–ª—å–Ω–∞—è —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ |
| –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã | 1KB | 2KB |

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫

1. **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (—É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ):
   - ‚úÖ –†–æ—Ç–∞—Ü–∏—è User-Agent
   - ‚úÖ –†–∞–±–æ—Ç–∞ —Å cookies –∏ —Å–µ—Å—Å–∏—è–º–∏
   - ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
   - ‚úÖ –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏

2. **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å):
   - ‚è≥ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
   - ‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cookies –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
   - ‚è≥ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

3. **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤):
   - ‚è≥ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ headless –±—Ä–∞—É–∑–µ—Ä–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º
   - ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏ –æ–±—Ö–æ–¥–∞ (2captcha –∏ —Ç.–¥.)
   - ‚è≥ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ residential –ø—Ä–æ–∫—Å–∏

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cookies –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏:

```python
import pickle

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
with open('cookies.pkl', 'wb') as f:
    pickle.dump(self.scraper.cookies, f)

# –ó–∞–≥—Ä—É–∑–∫–∞
with open('cookies.pkl', 'rb') as f:
    self.scraper.cookies.update(pickle.load(f))
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è:

```python
options.add_argument('--user-data-dir=/path/to/profile')
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–∫—Å–∏ —Ä–æ—Ç–∞—Ü–∏–µ–π:

```python
proxies = get_next_proxy()  # –ò–∑ –ø—É–ª–∞ –ø—Ä–æ–∫—Å–∏
self.scraper.proxies = proxies
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–°–æ–±–ª—é–¥–µ–Ω–∏–µ ToS**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫—Ä–∞–ø–∏–Ω–≥ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Bidfax
2. **Rate Limiting**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. **–≠—Ç–∏–∫–∞**: –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–∞–º–∏
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–±—Ö–æ–¥–∞ Cloudflare

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Ö–Ω–∏–∫:
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ–±—Ö–æ–¥–∞ Cloudflare
- ‚úÖ –ë–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∫—Ä–∞–ø–µ—Ä–∞
- ‚úÖ –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Cloudflare –º–æ–∂–µ—Ç –≤—Å–µ –µ—â–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π –∑–∞—â–∏—Ç—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.




