<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#3390ec">
    <title>Auto Market Intelligence</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/mini-app/styles.css">
</head>
<body>
    <div id="app">
        <!-- Loading screen -->
        <div id="loading" class="screen active">
            <div class="loader"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>

        <!-- Search screen -->
        <div id="search-screen" class="screen">
            <div class="container">
                <h1>üîç –ü–æ–¥–±–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è</h1>
                
                <div class="main-menu">
                    <button class="btn btn-secondary" onclick="showAlertsScreen()" style="margin-bottom: 15px; width: 100%;">
                        üîî –ú–æ–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    </button>
                </div>
                
                <form id="search-form" class="search-form">
                    <div class="form-group">
                        <label for="make">–ú–∞—Ä–∫–∞</label>
                        <select id="make" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="model">–ú–æ–¥–µ–ª—å</label>
                        <select id="model" required disabled>
                            <option value="">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="year_from">–ì–æ–¥ –æ—Ç</label>
                            <input type="number" id="year_from" min="1900" max="2025" placeholder="2015">
                        </div>
                        <div class="form-group">
                            <label for="year_to">–ì–æ–¥ –¥–æ</label>
                            <input type="number" id="year_to" min="1900" max="2025" placeholder="2024">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="mileage_from">–ü—Ä–æ–±–µ–≥ –æ—Ç (–º–∏–ª—å)</label>
                            <input type="number" id="mileage_from" min="0" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="mileage_to">–ü—Ä–æ–±–µ–≥ –¥–æ (–º–∏–ª—å)</label>
                            <input type="number" id="mileage_to" min="0" placeholder="100000">
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary" id="search-btn">
                        üîç –ù–∞–π—Ç–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏
                    </button>
                </form>
            </div>
        </div>

        <!-- Results screen -->
        <div id="results-screen" class="screen">
            <div class="container">
                <div class="header">
                    <button class="btn-back" onclick="showSearchScreen()">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h2>
                </div>
                <div id="results-list" class="results-list">
                    <!-- Results will be inserted here -->
                </div>
                <div id="no-results" class="no-results" style="display: none;">
                    <p>–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
                    <button class="btn btn-secondary" onclick="showSearchScreen()">–ù–æ–≤—ã–π –ø–æ–∏—Å–∫</button>
                </div>
            </div>
        </div>

        <!-- Vehicle details screen -->
        <div id="vehicle-screen" class="screen">
            <div class="container">
                <div class="header">
                    <button class="btn-back" onclick="showResultsScreen()">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–î–µ—Ç–∞–ª–∏ –ª–æ—Ç–∞</h2>
                </div>
                <div id="vehicle-details">
                    <!-- Vehicle details will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Payment screen -->
        <div id="payment-screen" class="screen">
            <div class="container">
                <div class="header">
                    <button class="btn-back" onclick="goBackFromPayment()">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–û–ø–ª–∞—Ç–∞</h2>
                </div>
                <div id="payment-content">
                    <!-- Payment content will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Alerts list screen -->
        <div id="alerts-screen" class="screen">
            <div class="container">
                <div class="header">
                    <button class="btn-back" onclick="showSearchScreen()">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>üîî –ú–æ–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
                </div>
                <div id="alerts-list" class="alerts-list">
                    <!-- Alerts will be inserted here -->
                </div>
                <div id="no-alerts" class="no-results" style="display: none;">
                    <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.</p>
                </div>
                <div style="margin-top: 20px;">
                    <button class="btn btn-primary" onclick="showCreateAlertScreen()" style="width: 100%;">
                        ‚ûï –°–æ–∑–¥–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    </button>
                </div>
            </div>
        </div>

        <!-- Create/Edit Alert screen -->
        <div id="alert-form-screen" class="screen">
            <div class="container">
                <div class="header">
                    <button class="btn-back" onclick="showAlertsScreen()">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2 id="alert-form-title">–°–æ–∑–¥–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</h2>
                </div>
                <form id="alert-form" class="search-form">
                    <div class="form-group">
                        <label for="alert-make">–ú–∞—Ä–∫–∞ *</label>
                        <select id="alert-make" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="alert-model">–ú–æ–¥–µ–ª—å *</label>
                        <select id="alert-model" required disabled>
                            <option value="">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="alert-year-from">–ì–æ–¥ –æ—Ç</label>
                            <input type="number" id="alert-year-from" min="1900" max="2025" placeholder="2015">
                        </div>
                        <div class="form-group">
                            <label for="alert-year-to">–ì–æ–¥ –¥–æ</label>
                            <input type="number" id="alert-year-to" min="1900" max="2025" placeholder="2024">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="alert-damage-type">–¢–∏–ø –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è</label>
                        <select id="alert-damage-type">
                            <option value="">–õ—é–±–æ–π</option>
                            <option value="none">–ë–µ–∑ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π</option>
                            <option value="minor">–ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ</option>
                            <option value="moderate">–£–º–µ—Ä–µ–Ω–Ω—ã–µ</option>
                            <option value="severe">–°–µ—Ä—å–µ–∑–Ω—ã–µ</option>
                            <option value="total">–¢–æ—Ç–∞–ª—å–Ω–∞—è –ø–æ—Ç–µ—Ä—è</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="alert-mileage-min">–ü—Ä–æ–±–µ–≥ –æ—Ç (–º–∏–ª—å)</label>
                            <input type="number" id="alert-mileage-min" min="0" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="alert-mileage-max">–ü—Ä–æ–±–µ–≥ –¥–æ (–º–∏–ª—å)</label>
                            <input type="number" id="alert-mileage-max" min="0" placeholder="100000">
                        </div>
                    </div>
                    
                    <div class="form-group" style="font-size: 12px; color: var(--tg-theme-hint-color, #999999); margin-top: 10px;">
                        * –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å 1 –Ω–µ–¥–µ–ª—é
                    </div>

                    <button type="submit" class="btn btn-primary" id="alert-submit-btn">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script src="/mini-app/app.js"></script>
</body>
</html>

