# Auto Market Intelligence - Telegram Car Price Bot

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ü–µ–Ω –Ω–∞ –ø–æ–¥–µ—Ä–∂–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –∏ –ø–æ–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:

- **Telegram Bot** (Ruby) - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ callback-–∑–∞–ø—Ä–æ—Å–æ–≤
- **Rails API** (Ruby on Rails 7.1) - –í–∞–ª–∏–¥–∞—Ü–∏—è, —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω—ã –∏–∑ –ë–î, Kafka producer/consumer, RESTful API
- **Python Workers** - –°–∫—Ä–∞–ø–∏–Ω–≥ IAAI –∏ Copart (–ø–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- **Telegram Mini App** (JavaScript) - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- **Kafka** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **PostgreSQL** - –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ Rails API –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø)
- **Redis** - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ rate limiting

## Workflow

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã –≤ Telegram –±–æ—Ç –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Mini App
2. Rails API –∏—â–µ—Ç —Ü–µ–Ω—É –≤ –ë–î (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤ IAAI/Copart)
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ü–µ–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
4. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≥–ª–∞—Å–µ–Ω ‚Üí –∏—â–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∞—É–∫—Ü–∏–æ–Ω—ã (IAAI/Copart)
5. Python —Å–∫—Ä–∞–ø–∏—Ç –¥–∞–Ω–Ω—ã–µ (—Å –æ–±—Ö–æ–¥–æ–º Cloudflare/Incapsula)
6. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ Telegram

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### IAAI –∏ Copart (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- **–ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–∫—Ä–∞–ø–∏–Ω–≥ –≤—Å–µ—Ö –ª–æ—Ç–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥ –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î
- **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–∫—Ä–∞–ø–∏–Ω–≥ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤
- **–ê–∫—Ç–∏–≤–Ω—ã–µ –∞—É–∫—Ü–∏–æ–Ω—ã**: –ü–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î —Å `auction_status = 'completed'`, `'active'`, `'sold'`, `'not_sold'`, `'buy_now'`, `'upcoming'` –∏–ª–∏ `'archived'`

## Kafka Topics

- `iaai-vehicle-data` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫—Ä–∞–ø–∏–Ω–≥–∞ IAAI (–ø–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- `active-auction-jobs` - –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤
- `active-auction-data` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤ (–æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram)

## –û–±—Ö–æ–¥ Cloudflare

–î–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- Selenium + Chrome headless
- undetected-chromedriver
- cloudscraper (fallback)
- –†–æ—Ç–∞—Ü–∏—è User-Agents
- selenium-stealth –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞ Incapsula

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- Ruby 3.1+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- Python 3.11+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:
   ```bash
   TELEGRAM_BOT_TOKEN=your_bot_token_here
   RAILS_API_URL=http://rails_api:3000
   REDIS_URL=redis://redis:6379/0
   KAFKA_BROKERS=kafka:29092
   MINI_APP_URL=https://your-domain.com/mini-app
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ setup:
   ```bash
   ./setup.sh
   ```

   –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
   ```bash
   docker-compose build
   docker-compose up -d postgres redis zookeeper kafka
   docker-compose exec rails_api rails db:create db:migrate
   docker-compose up
   ```

## –°–µ—Ä–≤–∏—Å—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:

- **Rails API**: http://localhost:3000
- **Telegram Mini App**: http://localhost:3000/mini-app
- **PostgreSQL**: localhost:5432
- **Redis**: localhost:6379
- **Kafka**: localhost:9092
- **Zookeeper**: localhost:2181

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Telegram Bot

–ù–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å Telegram –±–æ—Ç–æ–º –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

- `/start` –∏–ª–∏ `/menu` - –æ—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/help` - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

–ß–µ—Ä–µ–∑ –º–µ–Ω—é –¥–æ—Å—Ç—É–ø–Ω—ã:
- üîç **–ü–æ–¥–æ–±—Ä–∞—Ç—å –∞–≤—Ç–æ** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App –¥–ª—è –ø–æ–∏—Å–∫–∞
- üîî **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –æ –Ω–æ–≤—ã—Ö –ª–æ—Ç–∞—Ö
- üí≥ **–û–ø–ª–∞—Ç–∞** - –ø–æ–∫—É–ø–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –∏ —Ä–∞–∑–æ–≤—ã—Ö –ø–æ–∏—Å–∫–æ–≤

### Mini App

Mini App –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è:
- –í—ã–±–æ—Ä–∞ –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏ –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –≥–æ–¥—É –≤—ã–ø—É—Å–∫–∞ –∏ –ø—Ä–æ–±–µ–≥—É
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ª–æ—Ç–∞—Ö
- –û–ø–ª–∞—Ç—ã –ø–æ–∏—Å–∫–∞

## API Endpoints

### Queries

- `POST /api/queries` - –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤
- `GET /api/brands?q=query` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–∞—Ä–æ–∫ (—Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–æ–∏—Å–∫–æ–º)
- `GET /api/models?brand=BrandName&q=query` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –¥–ª—è –º–∞—Ä–∫–∏

### Vehicles (Vehicle History Engine)

- `GET /api/vehicles/by-partial-vin/:partial_vin` - –ù–∞–π—Ç–∏ –≤—Å–µ –ª–æ—Ç—ã –ø–æ partial VIN (11-13 —Å–∏–º–≤–æ–ª–æ–≤)
- `GET /api/vehicles/by-fingerprint?make=...&model=...&year=...&color=...&mileage=...&damage_type=...` - –ù–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –ø–æ fingerprint
- `GET /api/vehicles/by-stock/:source/:stock_number` - –ù–∞–π—Ç–∏ –ª–æ—Ç –ø–æ stock number
- `GET /api/vehicles/by-lot/:source/:lot_id` - –ù–∞–π—Ç–∏ –ª–æ—Ç –ø–æ lot ID (legacy)

### Mini App

- `GET /mini-app` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Mini App
- `GET /mini-app/*path` - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã Mini App (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)

## –°—Ö–µ–º–∞ –ë–î

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram (telegram_id, username)
- `vehicles` - –í—Å–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ (IAAI –∏ Copart, –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –∞—É–∫—Ü–∏–æ–Ω—ã)
  - –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è: source, source_id, make, model, year, mileage, color, damage_type
  - –¶–µ–Ω—ã: price, final_price
  - –ê—É–∫—Ü–∏–æ–Ω: auction_status, auction_end_date, auction_url, lot_id, stock_number
  - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: vin, partial_vin, vehicle_fingerprint, mileage_bucket
  - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: image_urls (JSONB –º–∞—Å—Å–∏–≤)
- `auction_status_history` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤ –∞—É–∫—Ü–∏–æ–Ω–æ–≤

### –ò–Ω–¥–µ–∫—Å—ã

- `vehicles`: source + source_id (unique), source + stock_number (unique), partial_vin, vehicle_fingerprint, vin, make, model, year, auction_status

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ rails_api/              # Rails API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/    # API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/         # ActiveRecord –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ jobs/          # Background jobs (Sidekiq)
‚îÇ   ‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Rails
‚îÇ   ‚îî‚îÄ‚îÄ spec/               # RSpec —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ telegram_bot/           # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot.rb          # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ callback
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # –°–µ—Ä–≤–∏—Å—ã (API –∫–ª–∏–µ–Ω—Ç, state manager, notifications)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/     # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–º–µ–Ω—é)
‚îÇ   ‚îî‚îÄ‚îÄ spec/               # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ python_workers/         # Python –≤–æ—Ä–∫–µ—Ä—ã –¥–ª—è —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ workers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py         # –ì–ª–∞–≤–Ω—ã–π –≤–æ—Ä–∫–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auction_fetcher.py  # –§–µ—Ç—á–µ—Ä –∞—É–∫—Ü–∏–æ–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ iaai_scraper.py    # IAAI —Å–∫—Ä–∞–ø–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ copart_scraper.py  # Copart —Å–∫—Ä–∞–ø–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rate_limiter.py    # Rate limiting
‚îÇ   ‚îî‚îÄ‚îÄ tests/              # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ mini_app/               # Telegram Mini App
‚îÇ   ‚îú‚îÄ‚îÄ index.html          # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ app.js             # JavaScript –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ styles.css         # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ workers/                # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ—Ä–∫–µ—Ä—ã (Python)
‚îî‚îÄ‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
./run_all_tests.sh
```

### Rails API —Ç–µ—Å—Ç—ã

```bash
cd rails_api
bundle exec rspec
```

### Python Workers —Ç–µ—Å—Ç—ã

```bash
cd python_workers
pytest
```

### Telegram Bot —Ç–µ—Å—Ç—ã

```bash
cd telegram_bot
bundle exec rspec
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ Docker Compose:
   ```bash
   docker-compose up -d postgres redis zookeeper kafka
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Rails API –ª–æ–∫–∞–ª—å–Ω–æ:
   ```bash
   cd rails_api
   rails server
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Telegram –±–æ—Ç –ª–æ–∫–∞–ª—å–Ω–æ:
   ```bash
   cd telegram_bot
   ruby lib/bot.rb
   ```
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Python –≤–æ—Ä–∫–µ—Ä—ã –ª–æ–∫–∞–ª—å–Ω–æ:
   ```bash
   cd python_workers
   python -m workers.main
   ```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

- `TELEGRAM_BOT_TOKEN` - –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `RAILS_API_URL` - URL Rails API
- `REDIS_URL` - URL Redis
- `KAFKA_BROKERS` - –°–ø–∏—Å–æ–∫ Kafka –±—Ä–æ–∫–µ—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
- `MINI_APP_URL` - URL Mini App –¥–ª—è Telegram
- `CHROME_HEADLESS` - –ó–∞–ø—É—Å–∫ Chrome –≤ headless —Ä–µ–∂–∏–º–µ (true/false)

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (Deployment)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ VPS —á–µ—Ä–µ–∑ GitHub Actions.

**–î–æ–º–µ–Ω:** `bidly.tech` (HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è Telegram Mini App)

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–°–º. [QUICK_START_DEPLOY.md](./QUICK_START_DEPLOY.md) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞

–°–º. [DOMAIN_SETUP.md](./DOMAIN_SETUP.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –¥–æ–º–µ–Ω–∞ `bidly.tech`.

### –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [DEPLOYMENT.md](./DEPLOYMENT.md) –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é.

### –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –¥–ª—è –¥–æ–º–µ–Ω–∞ `bidly.tech` (A-–∑–∞–ø–∏—Å—å –Ω–∞ IP –≤–∞—à–µ–≥–æ VPS)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ VPS —Å–µ—Ä–≤–µ—Ä (—Å–º. `setup-vps.sh`)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (—á–µ—Ä–µ–∑ Hestia CP/aaPanel –∏–ª–∏ Kamal)
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Secrets (–≤–∫–ª—é—á–∞—è `DEPLOY_DOMAIN=bidly.tech`)
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `rails_api/config/deploy.yml` (–¥–æ–º–µ–Ω —É–∂–µ —É–∫–∞–∑–∞–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
6. –ó–∞–ø—É—à–∏—Ç–µ –∫–æ–¥ –≤ GitHub - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∂–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é –ø—Ä–æ–µ–∫—Ç–∞]

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

[–£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é]
